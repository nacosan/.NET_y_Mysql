CREATE TABLE Continente (
    nombre VARCHAR(50) PRIMARY KEY
);          
CREATE TABLE Pais (
    pais_id INT(3) PRIMARY KEY,
    nombre VARCHAR(50) NOT NULL,
    continente VARCHAR(50) NOT NULL,
    FOREIGN KEY (continente) 
        REFERENCES Continente(nombre)
        ON DELETE RESTRICT 
        ON UPDATE CASCADE
);
CREATE TABLE Ciudad (
    ciudad_id INT PRIMARY KEY AUTO_INCREMENT,
    nombre VARCHAR(50) NOT NULL,
    pais INT(3) NOT NULL,
    FOREIGN KEY (pais) 
        REFERENCES Pais(codigo)
        ON DELETE RESTRICT
        ON UPDATE CASCADE
);
CREATE TABLE Zoo (
    zoo_id INT PRIMARY KEY AUTO_INCREMENT,
    nombre VARCHAR(100) NOT NULL,
    ciudad_id INT NOT NULL,  -- FK a Ciudad
    tamaño DECIMAL(10,2) NOT NULL,
    presupuesto DECIMAL(15,2) NOT NULL,
    FOREIGN KEY (ciudad_id) 
        REFERENCES Ciudad(ciudad_id)
        ON DELETE RESTRICT
        ON UPDATE CASCADE
);

CREATE TABLE Especie (
    nombre_cientifico VARCHAR(100) PRIMARY KEY,
    nombre_vulgar VARCHAR(100) NOT NULL,
    familia VARCHAR(50) NOT NULL,
    en_peligro BOOLEAN NOT NULL
);

CREATE TABLE Animal (
    animal_id INT PRIMARY KEY AUTO_INCREMENT,
    especie VARCHAR(100) NOT NULL,
    sexo CHAR(1) CHECK (sexo IN ('M', 'H')),
    año_nacimiento INT,
    pais_origen CHAR(3) NOT NULL,  -- FK a País
    zoo_id INT NOT NULL,
    FOREIGN KEY (especie) 
        REFERENCES Especie(nombre_cientifico)
        ON DELETE RESTRICT,
    FOREIGN KEY (pais_origen) 
        REFERENCES Pais(codigo)
        ON DELETE RESTRICT,
    FOREIGN KEY (zoo_id) 
        REFERENCES Zoo(zoo_id)
        ON DELETE CASCADE
);

